using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class E_PrefabsManager : MonoBehaviour{
    public GameObject _enemyPrfab;
    private EnemyManager _EnemyManager;
    //
    private Vector3 _enemyPos;
    


    //キャラネーム配列
    private string[] _charNames = { "E_Girl" };
    private string _charName;
    //乱数
    private int _ran;

    void OnTriggerEnter2D(Collider2D collision) {
        if (collision.gameObject.tag == "Floor") {
            _EnemyManager = _enemyPrfab.GetComponent<EnemyManager>();

            if (_EnemyManager._spawnFlag != true) {
                _ran = Random.Range(0, _charNames.Length);
                _charName = _charNames[_ran];
                //出現座標を定める
                _enemyPos.x = collision.gameObject.transform.position.x;
                _enemyPos.y = collision.gameObject.transform.position.y + 1.0f;
                _enemyPos.z = collision.gameObject.transform.position.z;
                //インスタンス生成
                _enemyPrfab = (GameObject)Resources.Load("Prefabs/" + _charName);
                Instantiate(_enemyPrfab, _enemyPos, Quaternion.identity);

            }

        }

    }

}
